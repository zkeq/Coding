---
title: 运维公告 | 关于图欧学习资源库流量激增导致API达到限制的公告以及后续解决方案和进展
tags: [运维]
description: 关于图欧学习资源库流量激增导致API达到限制的公告以及后续解决方案和进展
date: 2022-07-19 13:15:33
categories: 公共
cover: https://img.onmicrosoft.cn/2022-07-19/5.jpg
sticky: 8
---

您跳转到此页面的原因是学习资源库流量太大了，导致API访问次数激增，达到上游服务限制，无法访问...

我们已经尝试修复，相关的工作已经在进行中，预计6天左右完成全部部署。

以下是图欧君发布公告：

> 由于流量太大，网站暂时崩溃了
> 
> 进不去网站的你们可以先来我网站的备份网盘上浏览与学习（网站上的内容这个网盘里面都有，只不过分类是按照学习的人群来分类（比如中小学四六级考研专区等等都分类好了），但是资源比我网站上的资源更加多更加全）
> 
> 然后网站大佬还在修复中，如果修复成功了会第一时间通知大家，你们可以进群关注最新的进展


- 图欧学习资源库·阿里盘：https://tuo.icodeq.com/alipan

- 图欧学习资源库·百度盘：https://tuo.icodeq.com/baidu

- 图欧学习资源库·夸克盘：https://tuo.icodeq.com/quark

{% gallery %}
![](https://img.onmicrosoft.cn/2022-07-19/1.webp)
![](https://img.onmicrosoft.cn/2022-07-19/2.webp)
![](https://img.onmicrosoft.cn/2022-07-19/4.jpg)
{% endgallery %}


原文：https://t.bilibili.com/684456378054475810?spm_id_from=333.999.0.0

-------------------------------------

本文将实时更新本次事件的相关进展和后续处理情况。

- `2022-07-17`

图欧君正式发布介绍视频

- `2022-07-18 `

图欧君视频上热门，资源站流量变大，陆续收到相关的告警信息，此时的架构为 `replit` 教育版服务器架构

平均在线人数20人左右

- `2022-07-18 ~ 2022-07-19`

流量翻倍，网站速度变慢....

时不时收到监控的告警信息

- `2022-07-19 中午`

意识到可能当前的架构并不能支撑即将到来的用户群体

采购了一台服务器并进行了相关的迁移工作

- `2022-07-19 下午`

监控平台：https://uptime.icodeq.com/status/admin

平均在线人数超过100人...

持续告警....短短几小时发布几十条 `网站掉线/网站上线` 消息

经过排查后得知是访问次数过多，达到了 `微软的单账户API次数限制` ，见下图

![](https://img.onmicrosoft.cn/2022-07-19/6.png)

- `2022-07-19 晚上`

开始着手备份账号，使用迁移平台开始拷贝到备份账号上

![](https://img.onmicrosoft.cn/2022-07-19/7.jpg)

见图 `Never run` 即本次迁移命令

此时的监控告警仍在继续....几小时发出几十条告警消息

网站同时在线人数到达 200 人..

- `2022-07-20 早上`

单个账号迁移工作已完成 `1/3`

![](https://img.onmicrosoft.cn/2022-07-19/8.png)

- `2022-07-20 早上`

新启用10个备份账号，准备开发一套自动切换账号的脚本（技术栈确定为 `Python`）

![](https://img.onmicrosoft.cn/2022-07-19/9.png)

- `2022-07-20 中午`

因流量过大导致的崩溃时间过长，故发布此公告，在资源站发出报错后即跳转至本公告。

此时资源站在线人数突破 `300` 人（运维压力好大（（

![](https://img.onmicrosoft.cn/2022-07-19/10.png)

- `2022-07-20 中午 14:30`

由 `Python FastAPI` 框架搭建的账号自动热切换脚本编写完成，等待账号存储数据迁移完成后即可上线

![](https://img.onmicrosoft.cn/2022-07-19/11.png)

- `本文实时更新，更多进展第一时间同步`